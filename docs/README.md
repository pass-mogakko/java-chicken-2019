# [미션 - 치킨집] 명세서

## 목차

1. [프로그램 구성 요소](#프로그램-구성-요소)
2. [프로그램 진행 순서](#프로그램-진행-순서)
3. [기능 목록](#기능-목록)
4. [클래스 설계](#클래스-설계)
5. [단위 테스트 목록](#단위-테스트-목록)
6. [리팩토링 목록](#리팩토링-목록)

## 프로그램 구성 요소
- POS 기능
  - 주문등록
  - 결제
  - 프로그램 종료
- 메뉴
  - 메뉴 번호
  - 종류
  - 이름
  - 가격
- 테이블
  - 테이블 번호
  - 테이블은 종류 별 메뉴를 0~n개씩 가진다.
  - 제약 조건: 한 테이블에서 주문할 수 있는 한 메뉴의 최대 수량은 99개
- 테이블 목록
  - 선택 가능한 모든 테이블 번호를 저장하는 목록
  - 결제 상태가 "대기"인 주문 내역을 가진 테이블을 확인한다.
  - 출력 시 이 목록을 주어진 형식에 맞게 출력한다. (대기 중인 테이블 별도 표시)
- 주문
  - 주문한 메뉴 번호
  - 수량
- 주문 내역 목록
  - 테이블 번호 별 1~n개의 주문, 결제 상태를 저장하는 목록
  - 주문 내역에 대한 식별 번호를 부여한다.
  - 결제를 마치면 결제 상태를 "완료"로 변경한다.
  - 출력 시 결제 상태가 "대기"인 내역만 출력한다.
  - 결제 상태: 완료, 대기, 실패
- 결제 유형
  - 식별 가능한 유형명(현금, 카드)
  - 할인율
- 결제 요청 정보
  - 테이블 번호
  - 결제 유형
  - 최종 결제 금액

## 프로그램 진행 순서
- 주문등록
  1. `출력` 기능 목록
  2. `입력` 주문등록 기능을 선택
  3. `출력` 테이블
  4. `출력` 메뉴 
  5. `입력` 테이블 번호 선택
  6. `입력` 주문 등록할 메뉴 번호 선택
  7. `입력` 메뉴의 수량 입력
  8. 주문 정보를 생성해 해당 테이블 번호의 주문 내역을 갱신

- 결제
  1. `출력` 기능 목록
  2. `입력` 결제 기능을 선택
  3. `출력` 테이블
  4. `입력` 테이블 번호 선택
  5. `출력` 주문 내역
  6. `출력` 결제 진행 안내
  7. `입력` 결제 유형 선택
  8. 주문 내역과 결제 유형에 대한 최종 금액 계산
  9. `출력` 최종 결제 금액 출력
  
- 프로그램 종료
  - 사용자가 선택한 기능(주문등록, 결제)을 모두 수행한 경우 다시 메인 화면으로 되돌아간다.
  - 프로그램 종료를 선택할 경우 프로그램이 완전히 종료되도록 한다.

## 기능 목록
### 도메인 로직
1. - [ ] 모든 테이블 목록 정보를 조회하는 기능
   - `예외` null 또는 비어있는 테이블 목록 정보
2. - [ ] 모든 메뉴 정보를 조회하는 기능
   - `예외` null 또는 비어있는 메뉴 정보
3. - [ ] 테이블 번호, 주문을 전달받아 주문 내역 목록을 갱신하는 기능
   - 주문 내역에 식별 가능한 일련 번호를 부여한다.
   - 주문 내역의 결제 상태는 기본이 "대기"이다.
   - 대기 중인 주문 내역이 존재하면 갱신, 없으면 새로 저장한다.
   - 주문 내역에 이미 동일한 메뉴에 대한 주문이 있으면 수량을 갱신한다.
   - `예외` 존재하지 않는 테이블 번호
   - `예외` 존재하지 않는 메뉴 번호
   - `예외` 한 메뉴에 대한 수량이 99를 초과
4. - [ ] 테이블 번호를 전달받아 해당 테이블의 대기 상태인 주문 내역 목록을 조회하는 기능
   - `예외` 존재하지 않는 테이블 번호
5. - [ ] 테이블 번호를 전달받아 해당 테이블의 대기 상태인 주문 내역의 존재 여부를 조회하는 기능
   - `예외` 존재하지 않는 테이블 번호
6. - [ ] 결제 유형, 테이블 번호를 전달받아 결제를 접수하는 기능
   - `예외` 존재하지 않는 테이블 번호
   - `예외` 해당 테이블 번호에 대기 상태인 주문 내역이 없음
7. - [ ] 결제 유형, 주문 내역 번호를 전달받아 최종 결제 금액을 계산하는 기능

### UI 로직
1. - [ ] 메인 화면을 출력하는 기능
   - `예외` 지정된 선택 입력값이 아닌 경우
2. - [ ] POS 기능 선택을 입력받는 기능
   - `예외` 지정된 선택 입력값이 아닌 경우
3. - [ ] 테이블 선택을 입력받는 기능
   - `예외` 숫자가 아닌 경우
4. - [ ] 메뉴 선택을 입력받는 기능
   - `예외` 숫자가 아닌 경우
5. - [ ] 선택한 메뉴의 수량을 입력받는 기능
   - `예외` 자연수가 아닌 경우
   - `예외` 99개를 초과하는 수량인 경우
6. - [ ] 결제 유형 선택을 입력받는 기능
   - `예외` 지정된 선택 입력값이 아닌 경우
7. - [ ] 최종 결제 금액을 출력하는 기능
   - `예외` 출력할 값이 null인 경우
8. - [ ] 잘못된 입력값에 대하여 안내메시지 출력 후 재입력받는 기능

## 클래스 설계
### Controller
- PosController

### Service
- MenuService
- TableService
- OrderService
- PayService

### Domain
- Category
- Menu
- MenuRepository
- Table
- TableRepository
- Order
- OrderRepository

### View
- InputView
- OutputView

## 단위 테스트 목록
[작성 예정]

## 리팩토링 목록
[작성 예정]